{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "data": {
    "url": "https://raw.githubusercontent.com/ChaiKeRou/3179/main/data/death_rate_state.csv"
  },
  "height": 200,
  "width": "container",
  "background": null,
  "layer": [
    {
      "encoding": {
        "y": {
          "field": "age_range",
          "type": "ordinal",
          "title": "Age Range",
          "axis": {
            "titleFont": "Outfit",
            "labelFont": "Outfit",
            "titleFontWeight": 700,
            "labelFontWeight": 200,
            "titleFontSize": 12,
            "labelFontSize": 10,
            "titlePadding": 10
          }
        },
        "x": {
          "field": "state",
          "type": "nominal",
          "title": "State",
          "axis": {
            "titleFont": "Outfit",
            "labelFont": "Outfit",
            "titleFontWeight": 700,
            "labelFontWeight": 200,
            "titleFontSize": 12,
            "labelFontSize": 9,
            "titlePadding": 10,
            "labelAngle": 0,
            "labelAlign": "center"
          }
        }
      },
      "layer": [
        {
          "mark": "rect",
          "encoding": {
            "color": {
              "field": "death_rate",
              "type": "quantitative",
              "scale": {
                "domain": [
                  0.48,
                  52.52
                ],
                "range": [
                  "#fcedcb",
                  "#f29900",
                  "#e17300",
                  "#cf3e23",
                  "#980017"
                ]
              },
              "title": "Death Rate",
              "legend": null
            }
          }
        },
        {
          "mark": "text",
          "encoding": {
            "text": {
              "field": "death_rate",
              "type": "quantitative"
            },
            "color": {
              "condition": {
                "test": "datum['death_rate'] < 40",
                "value": "black"
              },
              "value": "white"
            },"tooltip":[
              {
                "field": "state",
                "title": "State",
                "type": "nominal"
              },
              {
                "field": "age_range",
                "title": "Age Range",
                "type": "nominal"
              },
              {
                "field": "death_rate",
                "title": "Crude Death Rate",
                "type": "quantitative",
                "format": ","
              }
            ]
          }
        }
      ]
    },
    {
      "mark": {
        "type": "text",
        "fontStyle": "normal",
        "font": "Outfit",
        "align": "center",
        "baseline": "middle",
        "dx": 150,
        "dy": -10,
        "fontSize": 12,
        "fontWeight": 300,
        "color": "#393939",
        "lineBreak": "\n",
        "lineHeight": 15
      },
      "encoding": {
        "text": {
          "value": "Terengganu recorded the highest crude death rates for both age groups: 41-59 and over 60. \nIt also ranked as the state with the overall highest crude death rate."
        }
      }
    },
    {
      "mark": {
        "type": "rule",
        "color": "#393939",
        "strokeWidth": 0.5
      },
      "encoding": {
        "x": {
          "value": 720
        },
        "x2": {
          "value": 750
        },
        "y": {
          "value": 100
        },
        "y2": {
          "value": 150
        }
      }
    }
  ],
  "config": {
    "title": {
      "offset": 10,
      "font": "Outfit",
      "fontSize": 25,
      "fontWeight": 900,
      "align": "center",
      "color": "#3f2b12"
    },
    "axis": {
      "grid": false,
      "tickBand": "extent"
    }
  }
}